<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Famous Framework: An intro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="http://fonts.googleapis.com/css?family=Lato&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/monokai.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
    <link href="assets/styles/global.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h1>Famous Framework: An intro</h1>
                <p>
                    The Famous Framework <span class="beta">beta</span> is a JavaScript framework for creating reusable, composable, and interchangeable UI widgets and applications. It's declarative, functional, and built on the raw power of the <a href="https://https://github.com/famous/engine">Famous Engine</a>. Here's what a component looks like:
                </p>
                <pre><code class="javascript">FamousFramework.component('bobette-smith:nifty-demo', {
    behaviors: {
        '#box': {
            'size': [100, 100],
            'style': { 'background-color': '#40b2e8' },
            'rotation-z': function(rotation) { return rotation; }
        }
    },
    events: {
        '#box': {
            'click': function($state) {
                $state.set('rotation', $state.get('rotation') + 10, {
                    duration: 1000,
                    curve: 'easeOut'
                });
            }
        }
    },
    states: { rotation: 0 },
    tree: `&lt;node id="box"&gt;&lt;/node&gt;`
});</code></pre>
                <h2>
                    Setup &amp; installation
                </h2>
                <p>
                    Assuming you've already got <a href="http://nodejs.org">Node.js</a> installed on your system, here's how to set up a new Famous Framework project:
                </p>
                <pre><code class="markdown"><span style="color:cyan">$</span> npm install -g git://github.com/Famous/famous-cli.git#framework <span style="color:#666"># You may need to 'sudo' this</span>
<span style="color:cyan">$</span> famous framework-scaffold
<span style="color:lime">? Enter a username:</span> bobette-smith
<span style="color:lime">? Enter your component's name:</span> todos
<span style="color:lime">? Does the project name "bobette-smith:todos" look ok?</span> Yes
<span style="color:lime">Created framework scaffold in current working directory!</span>
</code></pre>
                <p>
                    Your files and folders should now look something like this:
                </p>
                <pre><code class="markdown">├── components
|   ├── bobette-smith
|   |   └── todos
|   |       └── todos.js
|   └── famous
|       ├── core
|       |   └── node
|       |       └── node.js
|       └── events
|           └── events.js
├── public
|   └── index.html
└── package.json</code></pre>
                <p>
                    Two more commands to install the necessary libraries and boot up the development server:
                </p>
                <pre><code class="markdown"><span style="color:cyan">$</span> npm install
<span style="color:cyan">$</span> npm run dev</code></pre>
                <p>
                    You should now be able to visit <a href="http://localhost:1618">localhost:1618</a> with your browser and see a demo running. Open <code>components/bobette-smith/todos/todos.js</code> in your text editor, and you should see some starter code like this:
                </p>
                <pre><code class="javascript">FamousFramework.component('bobette-smith:todos', {
    // Note that the component's name ^ matches the folder names
});</code></pre>
                <p>
                    With the setup out of the way, let's build a component. (<a href="#build">Click here to skip the longwinded whys and wherefores immediately below &darr;</a>)
                </p>
            </div>
        </div>
    </div>
    <div class="longwinded">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <h2>Before going any further...</h2>
                    <p>
                        Before you start building, there are three things we think you should know about Famous Framework:
                    </p>
                    <ul>
                        <li>Why Famous built a framework</li>
                        <li>What this framework is &mdash; and isn't</li>
                        <li>How to make the most of it</li>
                    </ul>
                    <h3>Why another JavaScript framework?</h3>
                    <p>
                        We're inspired by the amazing work that has gone into world-class frameworks like React, Angular, Ionic, Meteor, and Ember. But with so many JS frameworks out there, why does <a href="http://famous.org">Famous</a> need one?
                    </p>
                    <p>
                        Designers and engineers have to work together &mdash; but sometimes their approaches are at odds. We wanted to discover what an ideal <a href="https://en.wikipedia.org/wiki/Mending_Wall">fence</a> between these worlds would look like.
                    </p>
                    <img src="assets/images/integration.png" style="width: 560px; margin: 0 auto; display: block; margin-bottom: 1em">
                    <p>
                        What if a UI editor could export pristine code, code that an engineer would love? What if it could ingest handcrafted UI code and expose powerful drawing and animation tools on top that a designer would feel empowered by?
                    </p>
                    <h3>What this framework is</h3>
                    <p>
                        The Famous Framework is our answer to these questions. We believe that by adopting some very specific constraints and conventions, the designer-engineer relationship can be more joy and less lost in translation.
                    </p>
                    <img src="assets/images/composability.png" style="width: 420px; margin: 0 auto; display: block; margin-bottom: 1em;">
                    <p>
                        <strong>This framework is a way to write composable widgets:</strong> By adhering to a specific set of principles and constraints (covered below), every app/module/widget you create can integrate with widgets created by others.
                    </p>
                    <p>
                        <strong>It's also an implementation of a pattern we call "BEST":</strong> The Famous Framework is the first project built toward an <a href="https://en.wikipedia.org/wiki/Architectural_pattern">architectural pattern</a> invented at Famous called <em>BEST: Behavior Event State Tree</em>. It synthesizes ideas from functional programming with the stateful realities of UI development.
                    </p>

                    <h4>Addendum: What it isn't</h4>
                    <p>
                        Many JS frameworks highlight their conciseness of code, templating, and helper utilities. These aren't yet the primary aims of Famous Framework. Our goal is to create a <a href="https://en.wikipedia.org/wiki/Domain-specific_language">DSL</a> whose constraints ensure 100% composability and serializability &mdash; but which don't limit engineering capabilities or design expression. 
                    </p>

                    <!-- Make sure visitors see this section even if they clicked the jump link -->
                    <a name="build"></a>

                    <h3>How to set yourself up for success</h3>
                    <p>
                        We have three suggestions for those who want to get the most out of Famous Framework:
                    </p>
                    <p>
                        <strong>1. Color inside the lines:</strong> Although we've taken care to ensure you can always break out of our guidelines and syntax when you need to, we think you'll have a better experience if you stick with them. In some cases, this means you'll have to approach familiar problems in a new way.
                    </p>
                    <img src="assets/images/chip.png" style="width: 560px; margin: 0 auto; display: block; margin-bottom: 1em">
                    <p>
                        <strong>2. Remember the microchip:</strong> In Famous Framework, every component is a black box. Sharing state between components is not provided for; you must build your app so that the inputs and outputs of each component connect and synchronize in the right way.
                    </p>
                    <p>
                        <strong>3. Join the Slack channel:</strong> The best way to get help and troubleshoot is via the <a href="https://famous-community.slack.com/messages/framework/">Famous Framework Slack channel</a>. Our engineers visit regularly and will do their best to answer questions you may have, from the conceptual to technical.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h2>Let's build!</h2>
                <p>
                    We'll begin our journey into the Famous Framework by building a small todo-list widget. To keep things simple, we'll start with a minimal UI that only allows items to be added.
                </p>
                <img src="assets/images/todos-screenshot.png" style="width: 560px; margin: 0 auto; display: block; margin-bottom: 1em; border: 1px solid #eee;">
                <p>
                    When the user types some text into the input field and hits the 'Enter' key, a todo item will be added to the list. Minus some CSS that we've omitted for brevity's sake, this is the complete code:
                </p>
                <pre><code class="javascript">FamousFramework.scene('bobette-smith:todos', {
    behaviors: {
        '#list': {
            'inner-html': function(todos) {
                return todos.map(function(todo) {
                    return `&lt;li&gt;${todo}&lt;/li&gt;`;
                }).join('');
            }
        }
    },
    events: {
        '#input': {
            'change': function($state, $payload) {
                $state.set('todos', $state.get('todos').concat($payload.value));
            }
        }
    },
    states: {
        todos: []
    },
    tree: `
        &lt;div id="todos"&gt;
            &lt;h1&gt;todos&lt;/h1&gt;
            &lt;input id="input" name="todo" placeholder="What needs to be done?"&gt;
            &lt;ol id="list"&gt;&lt;/ol&gt;
        &lt;/div&gt;
    `
});</code></pre>
                <p>
                    Let's step through what's going on in this example.
                </p>
                <h3>Tree - the internal structure</strong></h3>
                <p>
                    All components have a <code>tree</code>, which represents their internal structure. For simplicity, this example only uses HTML elements, which are solely for content, formatting, and static design. (Later, we'll cover a Famous tree element called <code>&lt;node&gt;</code>, which can be animated and transformed.)
                </p>
                <p class="heads-up">
                    The <code>tree</code> is logicless and immutable. No loops, conditionals, variables, or templating can go in there. It's a purely structural declaration.
                </p>
                <h3>States - the internal data</h3>
                <p>
                    <code>states</code> are just values that your component cares about. State values can be strings, integers, arrays &mdash; anything that can serialize to <a href="http://json.org/">JSON</a>. The component above only tracks one state value: an array of strings called <code>'todos'</code>.
                </p>
                <h3>Events - the input pins</h3>
                <p>
                    If your component were a microchip, then you could think of <code>events</code> as the input pins. Event functions get fired in reaction UI actions (e.g. a click or swipe) or programmatic triggers. In the example above, you'll find this code block:
                </p>
                <pre><code class="javascript">events: {
    '#input': {
        'change': function(...){...}
    }
}</code></pre>
                <p>
                    The way to read this block is: <em>Whenever a <code>'change'</code> event occurs on an element matching the query <code>'#input'</code>, fire the given function.</em>
                </p>
                <p>
                    When fired, an event function's job is to make changes to the component's internal state values through the <a href="https://en.wikipedia.org/wiki/Dependency_injection#AngularJS_example">dependency-injected</a> <code>$state</code> instance (unique and isolated to each component instance). In our case, the function we've declared adds a new element to the <code>todos</code> array.
                </p>
                <h3>Behaviors - the output pins</h3>
                <p>
                    If events are our chip's input pins, then behaviors are the output pins. Behaviors are <em>pure functions</em> that get run whenever the state values they have subscribed to are changed. In our todos example, we have this:
                </p>
                <pre><code class="javascript">behaviors: {
    '#list': {
        'inner-html': function(todos){...}
    }
}</code></pre>
                <p>
                    What this code blocks says is: <em>Any time the state value named <code>todos</code> is changed, invoke me, and then send my return value as a message to any elements matching the query <code>'#list'</code>. Give the message the key <code>'inner-html'</code>.</em>
                </p>
                <p>
                    Another way to read it might be, <em>The <code>'#list'</code> element's <code>'inner-html'</code> is a function of the <code>todos</code>.</em>
                </p>
                <p class="heads-up">
                    When we say behaviors should be <em>pure functions</em>, we mean it. Behavior functions should <em>only do ephemeral computation and then return values</em>. Avoid side effects such as mutating object properties or modifying variables in closure scope. Going against this guideline is like splashing water on your chip's circuitry: you'll get unpredictable and potentially hard-to-debug results.
                </p>
                <hr>
                <p>
                    More coming soon...
                </p>
            </div>
        </div>
    </div>

<!-- Github banner -->
<a href="https://github.com/Famous/framework"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>

</body>
</html>
